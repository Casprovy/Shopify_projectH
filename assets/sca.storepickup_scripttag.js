if (typeof SCASPSetting === "undefined" || typeof jQuerySCASP === "undefined" || typeof jQuerySCASP.fn.storePickup === "undefined") {
SCASPSetting={"def_apk":"AIzaSyD6XBR3jfrQkY_LEH7cswFGSsDBQXLHB4I","sg_enable_app":1,"sg_api_key":"","sg_zoom":12,"sg_enable_shipping":0,"sg_enable_pickup":1,"sg_enable_delivery":1,"sg_time_format":0,"sg_search_box":0,"sg_restric_country":[],"sg_autogeocode":0,"sg_pagination":1,"sg_location_per_page":8,"sg_distance_length_unit":"m","sg_cart_form_selector":"form[action*=\"cart\"][method=\"post\"]","sg_pickup_position":"button[name=\"checkout\"]:visible, input[name=\"checkout\"]:visible","sg_hide_address_fields":1,"sg_enable_billing_address":1,"sg_datetime_format":"yyyy\/mm\/dd","sd_tab_background_color":"#ffffff","sd_active_tab_background_color":"#f4f4f4","sd_shop_name_color":"#000000","sd_shop_info_color":"#000000","sd_shop_name_font_type":"","sd_shop_info_font_type":"","sd_tab_border_color":"#c2c2c2","sd_active_tab_border_color":"#000000","sd_search_box_border_color":"#949494","sd_timepicker_box_border_color":"#949494","sp_pickup_conditions":"{\"total_min\":\"\",\"total_max\":\"\",\"operator\":\"and\",\"qty_min\":\"\",\"qty_max\":\"\"}","sp_disable_shipping":1,"sp_enable_deposit":0,"sp_deposit_amount":0,"st_shipping_tab":"Shipping","st_shipping_text_content":"Please click the checkout button to continue.","st_store_pickup_tab":"Store Pickup","st_store_pickup_text_content":"Find your nearest pickup location:","st_find_my_location":"Find My Location","st_search_box_placeholder":"Enter your postal code or address...","st_datetime_pickup_placeholder":"Choose a date and time","st_non_select_store_validate_text":"Please choose a store","st_non_select_datetime_validate_text":"Please choose a date and time","st_more_information_text":"More information","st_opening_hours_text":"Opening hours","st_mile_text":"mile","st_miles_text":"miles","st_kilometer_text":"kilometer","st_kilometers_text":"kilometers","st_pickup_text":"Pickup time","st_days_full":{"monday":"Monday","tuesday":"Tuesday","wednesday":"Wednesday","thursday":"Thursday","friday":"Friday","saturday":"Saturday","sunday":"Sunday"},"st_days_short":{"monday":"Mon","tuesday":"Tue","wednesday":"Wed","thursday":"Thu","friday":"Fri","saturday":"Sat","sunday":"Sun"},"st_months_full":{"january":"January","february":"February","march":"March","april":"April","may":"May","june":"June","july":"July","august":"August","september":"September","october":"October","november":"November","december":"December"},"st_months_short":{"january":"Jan","february":"Feb","march":"Mar","april":"Apr","may":"May","june":"Jun","july":"Jul","august":"Aug","september":"Sep","october":"Oct","november":"Nov","december":"Dec"},"st_local_delivery_tab":"Local Delivery","st_local_delivery_text_content":"Enter your address into the field below to check if you are eligible for local delivery","st_delivery_address_validate_success":"Congratulations! You are eligible for delivery.","st_delivery_address_is_required":"Please enter your address to check.","st_delivery_address_is_not_valid":"Sorry. Your location is not available for delivery.","st_delivery_no_validate":"Please choose delivery time.","st_delivery_between_text":"between","st_delivery_and_text":"and","st_delivery_contact_shipping_address_title":"Delivery information","st_delivery_thank_you_marker_shipping":"Delivery address","st_delivery_thank_you_shipping_address_title":"Delivery address","st_delivery_general_edit_shipping_address":"Edit delivery address","st_delivery_general_continue_to_shipping_method":"Continue to delivery method","st_delivery_order_summary_shipping_label":"Delivery","st_delivery_shipping_title":"Delivery method","st_delivery_shipping_waiting_on_rate_notice":"Please wait while we fetch available delivery rates...","st_delivery_shipping_no_rates_for_cart_or_destination_notice":"Delivery is not available for your cart or destination.","st_delivery_shipping_no_rates_for_country_notice":"We don't offer delivery in {{ country }}.","st_shipping_label":"Store Pickup Deposit (Refund Later)","st_shipping_title":"Store Pickup","st_total_due":"PENDING BILLING","searchLocation":{"60411":0},"locationsRaw":"[{\"id\":60411,\"store_id\":2209,\"name\":\"Henkel Store\",\"address\":\"Henkelstra\\u00dfe 67\",\"address2\":\"\",\"city\":\"D\\u00fcsseldorf\",\"country\":\"Germany\",\"state\":\"\",\"notification_emails\":\"casprovy.tgs@gmail.com\",\"notification_template\":\"Hi {{$shop_name}},\\r\\nPlease notice the information:\\r\\nYour customer's name: {{$cust_name}}({{$cust_email}})\\r\\nPickup Date: {{$specified_time}}\\r\\nOrder Id: {{$order_id}} \\r\\nOrder Name: {{$order_name}}\\r\\nOrder Link: {{$order_link}}   \\r\\nPickup Address: {{$address}}\\r\\nPhone: {{$phone}}\\r\\nOrder Summary:\\r\\n{{$order_summary}}\\r\\n\",\"delivery_notification_template\":\"\",\"opening_hours\":{\"2\":{\"name\":\"Monday\",\"keyname\":\"monday\",\"from\":\"09:00\",\"to\":\"17:00\",\"wait_day\":\"0\",\"wait_hour\":\"0\",\"wait_minute\":\"0\",\"max_day\":\"7\",\"max_hour\":\"0\",\"max_minute\":\"0\",\"status\":\"1\"},\"3\":{\"name\":\"Tuesday\",\"keyname\":\"tuesday\",\"from\":\"09:00\",\"to\":\"17:00\",\"wait_day\":\"0\",\"wait_hour\":\"0\",\"wait_minute\":\"0\",\"max_day\":\"7\",\"max_hour\":\"0\",\"max_minute\":\"0\",\"status\":\"1\"},\"4\":{\"name\":\"Wednesday\",\"keyname\":\"wednesday\",\"from\":\"09:00\",\"to\":\"17:00\",\"wait_day\":\"0\",\"wait_hour\":\"0\",\"wait_minute\":\"0\",\"max_day\":\"7\",\"max_hour\":\"0\",\"max_minute\":\"0\",\"status\":\"1\"},\"5\":{\"name\":\"Thursday\",\"keyname\":\"thursday\",\"from\":\"09:00\",\"to\":\"17:00\",\"wait_day\":\"0\",\"wait_hour\":\"0\",\"wait_minute\":\"0\",\"max_day\":\"7\",\"max_hour\":\"0\",\"max_minute\":\"0\",\"status\":\"1\"},\"6\":{\"name\":\"Friday\",\"keyname\":\"friday\",\"from\":\"09:00\",\"to\":\"17:00\",\"wait_day\":\"0\",\"wait_hour\":\"0\",\"wait_minute\":\"0\",\"max_day\":\"7\",\"max_hour\":\"0\",\"max_minute\":\"0\",\"status\":\"1\"},\"7\":{\"name\":\"Saturday\",\"keyname\":\"saturday\",\"from\":\"09:00\",\"to\":\"17:00\",\"wait_day\":\"0\",\"wait_hour\":\"0\",\"wait_minute\":\"0\",\"max_day\":\"7\",\"max_hour\":\"0\",\"max_minute\":\"0\",\"status\":\"0\"},\"1\":{\"name\":\"Sunday\",\"keyname\":\"sunday\",\"from\":\"09:00\",\"to\":\"17:00\",\"wait_day\":\"0\",\"wait_hour\":\"0\",\"wait_minute\":\"0\",\"max_day\":\"7\",\"max_hour\":\"0\",\"max_minute\":\"0\",\"status\":\"0\"}},\"enable_date_picker\":1,\"enable_time_picker\":1,\"time_picker_slot\":10,\"status\":1,\"created_at\":\"2019-06-26 08:28:51\",\"updated_at\":\"2019-06-26 09:44:01\",\"enable_delivery\":1,\"delivery_max_radius\":0,\"delivery_enable_date_picker\":1,\"delivery_enable_time_picker\":1,\"delivery_hours\":{\"2\":{\"name\":\"Monday\",\"keyname\":\"monday\",\"wait_day\":\"0\",\"wait_hour\":\"0\",\"wait_minute\":\"0\",\"max_day\":\"7\",\"max_hour\":\"0\",\"max_minute\":\"0\",\"status\":\"1\"},\"3\":{\"name\":\"Tuesday\",\"keyname\":\"tuesday\",\"wait_day\":\"0\",\"wait_hour\":\"0\",\"wait_minute\":\"0\",\"max_day\":\"7\",\"max_hour\":\"0\",\"max_minute\":\"0\",\"status\":\"1\"},\"4\":{\"name\":\"Wednesday\",\"keyname\":\"wednesday\",\"wait_day\":\"0\",\"wait_hour\":\"0\",\"wait_minute\":\"0\",\"max_day\":\"7\",\"max_hour\":\"0\",\"max_minute\":\"0\",\"status\":\"1\"},\"5\":{\"name\":\"Thursday\",\"keyname\":\"thursday\",\"wait_day\":\"0\",\"wait_hour\":\"0\",\"wait_minute\":\"0\",\"max_day\":\"7\",\"max_hour\":\"0\",\"max_minute\":\"0\",\"status\":\"1\"},\"6\":{\"name\":\"Friday\",\"keyname\":\"friday\",\"wait_day\":\"0\",\"wait_hour\":\"0\",\"wait_minute\":\"0\",\"max_day\":\"7\",\"max_hour\":\"0\",\"max_minute\":\"0\",\"status\":\"1\"},\"7\":{\"name\":\"Saturday\",\"keyname\":\"saturday\",\"wait_day\":\"0\",\"wait_hour\":\"0\",\"wait_minute\":\"0\",\"max_day\":\"7\",\"max_hour\":\"0\",\"max_minute\":\"0\",\"status\":\"0\"},\"1\":{\"name\":\"Sunday\",\"keyname\":\"sunday\",\"wait_day\":\"0\",\"wait_hour\":\"0\",\"wait_minute\":\"0\",\"max_day\":\"7\",\"max_hour\":\"0\",\"max_minute\":\"0\",\"status\":\"0\"}},\"blackout_dates\":null,\"phone\":\"\",\"enable_pickup_rates\":0,\"pickup_rates_json\":\"\",\"enable_max_datetime_picker\":0,\"delivery_enable_max_datetime_picker\":1,\"notification_subject\":\"[Store Pickup Notification] Order {{$order_name}} will be picked up at your store {{$specified_time}}.\",\"delivery_notification_subject\":\"[Local Delivery Notification] Order {{$order_name}} will deliver to your customer {{$specified_time}}.\",\"enable_delivery_rates\":0,\"delivery_rates_json\":\"\",\"description\":null,\"lat\":\"51.1799164\",\"lng\":\"6.843123399999968\",\"postal\":\"40589\"}]","defaultLat":"51.1799164","defaultLng":"6.843123399999968","version":"pickup_and_delivery"};
var SCASPLocationsData=null,processPickupData=null,SCASPDeliveryDatePicker=null,SCASPDeliveryTimePicker=null;function scasp_is_installed(){for(var e=!1,t=document.head.getElementsByTagName("script"),a=0;a<t.length;++a){var i=t[a].getAttribute("src");if(0<=t[a].innerText.indexOf("asyncLoad")&&0<=t[a].innerText.indexOf("sca.storepickup_scripttag.js")||i&&0<=i.indexOf("shop=")&&0<=i.indexOf("sca.storepickup_scripttag.js")){console.log("already has scripttag, load SP"),e=!0;break}}return e}function scaSetCookie(e,t){var a=new Date;a.setTime(a.getTime()+18e5);var i="expires="+a.toUTCString();document.cookie=e+"="+t+";"+i+";path=/"}function scaGetCookie(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),i=0;i<a.length;i++){for(var s=a[i];" "==s.charAt(0);)s=s.substring(1);if(0==s.indexOf(t))return s.substring(t.length,s.length)}return"none"}function gm_authFailure(){if("none"==scaGetCookie("scasp_gm_auth_fail")&&"undefined"!=typeof jQuerySCASP){var e="";e=SCASPSetting.sg_api_key?SCASPSetting.sg_api_key.trim():SCASPSetting.def_apk,""!=Shopify.shop&&""!=e&&jQuerySCASP.ajax({url:"https://secomapp.com/storepickup/maperror",data:{store:Shopify.shop,api_key:e.trim()},type:"post",success:function(e){console.log(e),scaSetCookie("scasp_gm_auth_fail",Shopify.shop)}})}}!function(){if(SCASPSetting.sg_enable_app){SCASPSetting.sg_pickup_position||(SCASPSetting.sg_pickup_position='button[name="checkout"]:visible, input[name="checkout"]:visible');function e(){}for(var t,F=SCASPSetting.searchLocation,a=!1,i=!1,s=!1,n="en",r=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],o=r.length,p=window.console=window.console||{};o--;)p[t=r[o]]||(p[t]=e);var c=["January","February","March","April","May","June","July","August","September","October","November","December"],u=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],S=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];void 0!==SCASPSetting.st_months_full&&null!=SCASPSetting.st_months_full&&(c=[SCASPSetting.st_months_full.january,SCASPSetting.st_months_full.february,SCASPSetting.st_months_full.march,SCASPSetting.st_months_full.april,SCASPSetting.st_months_full.may,SCASPSetting.st_months_full.june,SCASPSetting.st_months_full.july,SCASPSetting.st_months_full.august,SCASPSetting.st_months_full.september,SCASPSetting.st_months_full.october,SCASPSetting.st_months_full.november,SCASPSetting.st_months_full.december]),void 0!==SCASPSetting.st_months_short&&null!=SCASPSetting.st_months_short&&(u=[SCASPSetting.st_months_short.january,SCASPSetting.st_months_short.february,SCASPSetting.st_months_short.march,SCASPSetting.st_months_short.april,SCASPSetting.st_months_short.may,SCASPSetting.st_months_short.june,SCASPSetting.st_months_short.july,SCASPSetting.st_months_short.august,SCASPSetting.st_months_short.september,SCASPSetting.st_months_short.october,SCASPSetting.st_months_short.november,SCASPSetting.st_months_short.december]),void 0!==SCASPSetting.st_days_full&&null!=SCASPSetting.st_days_full&&(l=[SCASPSetting.st_days_full.sunday,SCASPSetting.st_days_full.monday,SCASPSetting.st_days_full.tuesday,SCASPSetting.st_days_full.wednesday,SCASPSetting.st_days_full.thursday,SCASPSetting.st_days_full.friday,SCASPSetting.st_days_full.saturday]),void 0!==SCASPSetting.st_days_short&&null!=SCASPSetting.st_days_short&&(S=[SCASPSetting.st_days_short.sunday,SCASPSetting.st_days_short.monday,SCASPSetting.st_days_short.tuesday,SCASPSetting.st_days_short.wednesday,SCASPSetting.st_days_short.thursday,SCASPSetting.st_days_short.friday,SCASPSetting.st_days_short.saturday]);function d(e,t){var a=document.createElement("script");a.type="text/javascript",a.readyState?a.onreadystatechange=function(){"loaded"!=a.readyState&&"complete"!=a.readyState||(a.onreadystatechange=null,t())}:a.onload=function(){t()},a.src=e,document.getElementsByTagName("head")[0].appendChild(a)}var q=function(e){return parseInt(e)<10?"0"+parseInt(e):e},g=function(e,t){var a=12<=e?"PM":"A";return(e=(e%=12)||12)+":"+(t=t<10?"0"+t:t)+" "+a},x=function(e){e=e.join(":");var t=/([01]?\d)(:\d{2}) (AM|PM)/g.exec(e);return e=null!=t?("PM"==t[3]&&(t[1]=parseInt(t[1])+12),[t[1],t[2].replace(":","")]):e.split(":")},_=function(e){return 0<e(".sca-storepickup-delivery-tab").length&&e(".sca-storepickup-delivery-tab").hasClass("active")},m=function(e){e(".bh-sl-form-container").show(),e("#bh-sl-map-container, .bh-sl-map-container").storePickup(function(e){var t={mapSettings:{zoom:SCASPSetting.sg_zoom,zoomControl:!0,mapTypeId:google.maps.MapTypeId.ROADMAP},inlineDirections:!0,lengthUnit:SCASPSetting.sg_distance_length_unit,mileLang:SCASPSetting.st_mile_text,milesLang:SCASPSetting.st_miles_text,kilometerLang:SCASPSetting.st_kilometer_text,kilometersLang:SCASPSetting.st_kilometers_text,fullMapStart:!0,slideMap:!1};return void 0!==google.maps.places?t.autoComplete=!0:(t.autoComplete=!1,e("a#scasp-geocode-btn > img").prop("src","//cdn.secomapp.com/storepickup/assets/cdn/img/scasp-search-icon.png"),e("a#scasp-geocode-btn").prop("id","bh-sp-submit")),t.storeLimit=parseInt(SCASPSetting.max_results)||500,t.dataType="json",SCASPSetting.locationsRaw?(t.dataRaw=SCASPSetting.locationsRaw,SCASPLocationsData=e.parseJSON(SCASPSetting.locationsRaw)):t.dataLocation=SCASPSetting.locationsUrl,1==SCASPSetting.sg_autogeocode&&(t.autoGeocode=!0),SCASPSetting.sg_pagination&&(t.pagination=!0,t.locationsPerPage=SCASPSetting.sg_location_per_page),SCASPSetting.defaultLat&&SCASPSetting.defaultLng&&(t.fullMapStart=!1,t.defaultLoc=!0,t.defaultLat=SCASPSetting.defaultLat,t.defaultLng=SCASPSetting.defaultLng),t.callbackMapSet=function(){_(e)&&e(".bh-sl-map, .bh-sl-loc-list, .bh-sl-pagination-container, #date-pickup").hide()},t.callbackListClick=function(e,t){if("function"==typeof scaStorePickupListClick)try{scaStorePickupListClick(e,t)}catch(e){p.log("Callback Error!"),p.log(e)}},t}(e)),SCASPSetting.storePickup=e("#bh-sl-map-container").data("plugin_storePickup")},h=function(e){var t="/cart?step=contact_information",a=!1;if("undefined"!=typeof SCASPCustomer){for(var i=SCASPCustomer.addresses,s=null,n=0;n<i.length;n++)1==i[n].default&&(s=i[n]);null!=s?(a=!0,t+="&checkout[shipping_address][id]="+s.id,t+="&checkout[shipping_address][first_name]="+s.first_name,t+="&checkout[shipping_address][last_name]="+s.last_name,t+="&checkout[shipping_address][company]="+s.company,t+="&checkout[shipping_address][address1]="+s.address1,t+="&checkout[shipping_address][address2]="+s.address2,t+="&checkout[shipping_address][city]="+s.city,t+="&checkout[shipping_address][country]="+s.country,t+="&checkout[shipping_address][zip]="+s.zip,t+="&checkout[shipping_address][province]="+s.province,t+="&checkout[shipping_address][phone]="+s.phone):a=!1}return"undefined"!=typeof SCASPCustomer&&0!=a||(t+="&checkout[shipping_address][company]=",t+="&checkout[shipping_address][address1]=",t+="&checkout[shipping_address][address2]=",t+="&checkout[shipping_address][city]=",t+="&checkout[shipping_address][country]=",t+="&checkout[shipping_address][zip]=",t+="&checkout[shipping_address][province]="),t+="&sca_pickup_text=",t+="&sca_pickup_date=",t+="&sca_hide_address=",t+="&sca_enable_billing=",t+="&locale="+e,P($,"shipping",0),t},y=function(e){e('input[name="attributes[Checkout-Method]"]').val(""),e('input[name="attributes[Pickup-Location-Id]"]').val(""),e('input[name="attributes[Pickup-Date]"]').val(""),e('input[name="attributes[Pickup-Time]"]').val(""),e('input[name="attributes[Pickup-Location-Company]"]').val(""),e('input[name="attributes[Pickup-Location-Address-Line-1]"]').val(""),e('input[name="attributes[Pickup-Location-Address-Line-2]"]').val(""),e('input[name="attributes[Pickup-Location-City]"]').val(""),e('input[name="attributes[Pickup-Location-Region]"]').val(""),e('input[name="attributes[Pickup-Location-Postal-Code]"]').val(""),e('input[name="attributes[Pickup-Location-Country]"]').val(""),e('input[name="attributes[Delivery-Location-Id]"]').val(""),e('input[name="attributes[Delivery-Date]"]').val(""),e('input[name="attributes[Delivery-Time]"]').val("")},P=function(e,t,a){setTimeout(function(){"undefined"!=typeof BOLD&&void 0!==BOLD.customer&&void 0!==BOLD.recurring_orders&&(0!=a?"pickup"==t?(BOLD.customer.address1=a.address||"",BOLD.customer.address2=a.address2||"",BOLD.customer.city=a.city||"",BOLD.customer.company=a.name||"",BOLD.customer.country=a.country||"",BOLD.customer.province=a.state||"",BOLD.customer.zip=a.postal||"",BOLD.recurring_orders.app.cartWidget.pickupEnabled=!0):"delivery"==t&&(BOLD.customer.address1="",BOLD.customer.address2="",BOLD.customer.city="",BOLD.customer.company="",BOLD.customer.country=a.country||"",BOLD.customer.province=a.province||"",BOLD.customer.zip=a.zip||"",BOLD.recurring_orders.app.cartWidget.pickupEnabled=!1):(BOLD.customer.address1="",BOLD.customer.address2="",BOLD.customer.city="",BOLD.customer.company="",BOLD.customer.country="",BOLD.customer.province="",BOLD.customer.zip="",BOLD.recurring_orders.app.cartWidget.pickupEnabled=!1),BOLD.recurring_orders.app.cartWidget.loadCustomerData())},1e3)};SCASPSetting.getParametersApi=function(){var e=SCASPLocationsData,t=jQuerySCASP(".location_id:checked").val();0<jQuerySCASP(".sca-storepickup-delivery-tab").length&&jQuerySCASP(".sca-storepickup-delivery-tab").hasClass("active")&&(t=jQuerySCASP(".location_id").first().val());for(var a=null,i=0;i<e.length;i++)if(e[i].id==t){a=e[i];break}if(null==a)return"";var s="";return s+=k(jQuerySCASP,s,a,n)};var f=function(e,t){var a="";0!==t?a=k(e,a+="/cart?",t,n):a+=h(n),e(SCASPSetting.sg_cart_form_selector).prop("action",a)},k=function(e,t,a,i){return _(e)?(P(e,"delivery",a),t+="step=contact_information&method=delivery",t+="&checkout[shipping_address][company]=",t+="&checkout[shipping_address][address1]=",t+="&checkout[shipping_address][address2]=",t+="&checkout[shipping_address][city]=",t+="&checkout[shipping_address][country]="+encodeURIComponent(a.country),t+="&checkout[shipping_address][zip]="+encodeURIComponent(a.postal),t+="&checkout[shipping_address][province]="+encodeURIComponent(a.state),0<=i.indexOf("-")?t+="&locale="+i+"SCALD":t+="&locale="+i+"-SCALD"):(P(e,"pickup",a),t+="step=contact_information&method=shipping",t+="&checkout[shipping_address][company]="+encodeURIComponent(a.name),t+="&checkout[shipping_address][address1]="+encodeURIComponent(a.address),t+="&checkout[shipping_address][address2]="+encodeURIComponent(a.address2),t+="&checkout[shipping_address][city]="+encodeURIComponent(a.city),t+="&checkout[shipping_address][country]="+encodeURIComponent(a.country),t+="&checkout[shipping_address][zip]="+encodeURIComponent(a.postal),t+="&checkout[shipping_address][province]="+encodeURIComponent(a.state),t+="&sca_pickup_text="+encodeURIComponent(SCASPSetting.st_pickup_text),t+="&sca_pickup_date="+encodeURIComponent(e("#date-pickup").val()),t+="&sca_hide_address="+encodeURIComponent(""+SCASPSetting.sg_hide_address_fields),t+="&sca_enable_billing="+encodeURIComponent(""+SCASPSetting.sg_enable_billing_address),0<=i.indexOf("-")?t+="&locale="+i+"SCASP":t+="&locale="+i+"-SCASP"),t};processPickupData=function(e,t){var a=SCASPLocationsData;if(_(e)){void 0===t&&(t=e(".location_id").first().val()),e('input[name="attributes[Checkout-Method]"]').val("delivery"),e('input[name="attributes[Delivery-Date]"]').val(e('input[name="scasp-delivery-date_submit"]').val()),e('input[name="attributes[Delivery-Time]"]').val(e("#sca-storepickup-desc .picker__list-item--selected").html()),e('input[name="attributes[Delivery-Location-Id]"]').val(t);for(var i=0;i<a.length;i++)if(a[i].id==t){var s=a[i];return f(e,s),!1}}else{void 0===t&&(t=e(".location_id:checked").val());for(var n=0;n<a.length;n++)if(a[n].id==t){var r=a[n];return e('input[name="attributes[Checkout-Method]"]').val("pickup"),e('input[name="attributes[Pickup-Location-Id]"]').val(r.id),e('input[name="attributes[Pickup-Date]"]').val(e('input[name="scasp-date_submit"]').val()),e('input[name="attributes[Pickup-Time]"]').val(e("#scasp-time").val()),e('input[name="attributes[Pickup-Location-Company]"]').val(r.name),e('input[name="attributes[Pickup-Location-Address-Line-1]"]').val(r.address),e('input[name="attributes[Pickup-Location-Address-Line-2]"]').val(r.address2),e('input[name="attributes[Pickup-Location-City]"]').val(r.city),e('input[name="attributes[Pickup-Location-Region]"]').val(r.state),e('input[name="attributes[Pickup-Location-Postal-Code]"]').val(r.postal),e('input[name="attributes[Pickup-Location-Country]"]').val(r.country),f(e,r),!1}}},SCASPSetting.handlerScriptApi=function(e){if(!(0<e(SCASPSetting.sg_pickup_position).length))return!1;var t=e("#scasp-container-template").html(),a=Handlebars.compile(t);e(SCASPSetting.sg_pickup_position).before(a(SCASPSetting)),v(e)},SCASPSetting.initStorePickup=function(e){if(!(0<e(SCASPSetting.sg_pickup_position).length&&0<e("#scasp-container-template").length))return!1;if(!scasp_is_installed())return!1;var t=e("#scasp-container-template").html(),a=Handlebars.compile(t);e(SCASPSetting.sg_pickup_position).before(a(SCASPSetting)),p.log("loading store pickup plugin..."),function(e,t){if("js"==t)(a=document.createElement("script")).setAttribute("type","text/javascript"),a.setAttribute("src",e);else if("css"==t){var a;(a=document.createElement("link")).setAttribute("rel","stylesheet"),a.setAttribute("type","text/css"),a.setAttribute("href",e)}void 0!==a&&document.getElementsByTagName("head")[0].appendChild(a)}("//cdn.secomapp.com/storepickup/assets/cdn/css/storepickup.css","css"),"undefined"!=typeof google&&void 0!==google.maps||jQuerySCASP.scaslgoogleLoaded?C(e):(jQuerySCASP.scaslgoogleLoaded=!0,d("//maps.google.com/maps/api/js?key="+(SCASPSetting.sg_api_key?SCASPSetting.sg_api_key.trim():SCASPSetting.def_apk)+"&libraries=places",function(){p.log("Loaded google map"),C(jQuerySCASP)}))};"undefined"==typeof jQuery||0<function(e,t){try{var a=e.split("."),i=t.split("."),s=1e8*parseInt(a[0])+1e6*parseInt(a[1])+1e4*parseInt(a[2]),n=1e8*parseInt(i[0])+1e6*parseInt(i[1])+1e4*parseInt(i[2]);return n<s?1:s<n?-1:0}catch(e){p.log(e)}return 1}("3.0.0",jQuery.fn.jquery)?"undefined"==typeof jQuerySCASP?d("//ajax.googleapis.com/ajax/libs/jquery/3.0.0/jquery.min.js",function(){p.log("finished load jquery..."),jQuerySCASP=jQuery.noConflict(!0),SCASPSetting.initStorePickup(jQuerySCASP)}):SCASPSetting.initStorePickup(jQuerySCASP):(p.log("use shop's jquery.."),jQuerySCASP=jQuery,SCASPSetting.initStorePickup(jQuerySCASP))}function j(e,t,a){if(0==t)return[e,t];for(var i=0;i<=60/a;i++)if(t<=a*i){60==t?(t=0,e++):60==(t=a*i)&&(t=0,e++);break}return[e,t]}function v(B){if(SCASPSetting.sg_enable_app&&(function(e){var t='<style type="text/css">';t+="#sca-storepickup-methods li {background-color:"+SCASPSetting.sd_tab_background_color+" !important;}",t+="#sca-storepickup-methods li.active {background-color:"+SCASPSetting.sd_active_tab_background_color+" !important;}",t+=".scasp-title {color:"+SCASPSetting.sd_shop_name_color+" !important;}",""!=SCASPSetting.sd_shop_name_font_type&&(t+=".scasp-title {font-family:"+SCASPSetting.sd_shop_name_font_type+" !important;}"),t+=".scasp-address, .scasp-address2, .scasp-city, .scasp-state, .scasp-zipcode, .scasp-country {color:"+SCASPSetting.sd_shop_info_color+" !important;}",""!=SCASPSetting.sd_shop_info_font_type&&(t+=".scasp-address, .scasp-address2, .scasp-city, .scasp-state, .scasp-zipcode, .scasp-country {font-family:"+SCASPSetting.sd_shop_info_font_type+" !important;}"),""!=SCASPSetting.sd_tab_border_color&&(t+="#sca-storepickup-methods li { border-color: "+SCASPSetting.sd_tab_border_color+" !important;}"),""!=SCASPSetting.sd_active_tab_border_color&&(t+="#sca-storepickup-methods li.active { border-color: "+SCASPSetting.sd_active_tab_border_color+" !important;}"),""!=SCASPSetting.sd_search_box_border_color&&(t+="#bh-sl-address { border-color: "+SCASPSetting.sd_search_box_border_color+" !important;}"),""!=SCASPSetting.sd_timepicker_box_border_color&&(t+="#date-pickup { border-color: "+SCASPSetting.sd_timepicker_box_border_color+" !important;}"),t+="</style>",e("html > head").append(t)}(B),B("#sca-storepickup-container").show()),0==B(SCASPSetting.sg_cart_form_selector+' input[name="attributes[Checkout-Method]"]').length&&B('#sca-storepickup-desc input[name*="attributes["]').appendTo(B(SCASPSetting.sg_cart_form_selector)),"undefined"!=typeof SCASPDisableShipping&&(i=SCASPDisableShipping),"undefined"!=typeof SCASPDisableDelivery&&(s=SCASPDisableDelivery),"undefined"!=typeof SCASPDisablePickup&&(a=SCASPDisablePickup),"undefined"!=typeof SCASPLocale&&(n=SCASPLocale),SCASPSetting.sg_enable_shipping&&!i&&(f(B,0),B(".sca-storepickup-shipping-tab").on("click",function(){B("#sca-storepickup-desc p, .bh-sl-container, #date-pickup, .scasp-error-msg, .scasp-delivery-validate, .scasp-delivery-success, #date-delivery, .scasp-delivery-no-validate").hide(),B("#sca-storepickup-methods li").removeClass("active"),B(".sca-storepickup-shipping-desc").show(),B(".sca-storepickup-shipping-tab").addClass("active"),y(B),f(B,0)})),B(SCASPSetting.sg_cart_form_selector+' input[name="update"], '+SCASPSetting.sg_cart_form_selector+' button[name="update"], '+SCASPSetting.sg_cart_form_selector+" .update_subtotal").click(function(){B(SCASPSetting.sg_cart_form_selector).prop("action","/cart")}),SCASPSetting.sg_enable_pickup&&!a){B(".sca-storepickup-pickup-tab").on("click",function(){B("#sca-storepickup-desc p, #date-delivery, .scasp-delivery-success, .scasp-error-msg, .scasp-delivery-no-validate").hide(),B("#sca-storepickup-methods li").removeClass("active"),B(".sca-storepickup-pickup-desc, .bh-sl-container").show(),B(".sca-storepickup-pickup-tab").addClass("active"),B("#date-pickup, #bh-sl-address").val(""),y(B),1==SCASPSetting.sg_search_box?B("#bh-sl-address").show():B("#bh-sl-address").hide(),void 0!==jQuerySCASP.fn.storePickup&&void 0!==SCASPSetting.storePickup?(SCASPSetting.storePickup.reset(),SCASPSetting.storePickup.mapReload()):m(B),B(".bh-sl-map, .bh-sl-loc-list, .bh-sl-pagination-container").show(),B(".scasp-list-container").first().trigger("click")}),jQuerySCASP(document).on("click",".location_id",function(){var e=jQuerySCASP(this);setTimeout(function(){e.closest(".scasp-list-container").trigger("click")},10)});var I=null,v=B("#scasp-date").pickadate({monthsFull:c,monthsShort:u,weekdaysFull:l,weekdaysShort:S,format:"dddd, dd mmm, yyyy",formatSubmit:SCASPSetting.sg_datetime_format,hiddenPrefix:"scasp-date",today:"",clear:"",close:"",min:!0,onOpen:function(){I=null;var e=B(".list-focus").find(".location_id").val(),t=SCASPLocationsData[F[e]],a=t.opening_hours,i=new Date,s=a[Object.keys(a)[i.getDay()]],n=s.to.split(":");if(parseInt(q(i.getHours())+""+q(i.getMinutes()))>parseInt(q(n[0])+""+q(n[1]))&&this.set("disable",[new Date(i.getFullYear(),i.getMonth(),i.getDate())]),s.hasOwnProperty("max_day")&&0!=t.enable_max_datetime_picker){var r=0;"0"!=s.max_day&&""!=s.max_day&&(r+=24*parseInt(s.max_day)*60*60*1e3),"0"!=s.max_hour&&""!=s.max_hour&&(r+=60*parseInt(s.max_hour)*60*1e3),"0"!=s.max_minute&&""!=s.max_minute&&(r+=60*parseInt(s.max_minute)*1e3);var o=new Date((new Date).getTime()+r),p=o.getHours()+":"+o.getMinutes(),c=a[Object.keys(a)[o.getDay()]],u=p.split(":"),l=c.to.split(":");parseInt(q(u[0])+q(u[1]))>parseInt(q(l[0])+q(l[1]))&&(o=new Date(o.getTime()+864e5));var S=new Date(o.getFullYear(),o.getMonth(),o.getDate());this.set("max",S)}for(var d=1;d<8;d++)if(a[d].hasOwnProperty("wait_day")||a[d].hasOwnProperty("max_day")){s=a[d];var g=new Date,_=d-(i.getDay()+1);if(g.setDate(i.getDate()+_),s.hasOwnProperty("wait_day")){var m=0,h=0;"0"!=s.wait_day&&""!=s.wait_day&&(h+=24*parseInt(s.wait_day)*60*60*1e3),s.hasOwnProperty("wait_hour")&&"0"!=s.wait_hour&&""!=s.wait_hour&&(h+=60*parseInt(s.wait_hour)*60*1e3),s.hasOwnProperty("wait_minute")&&"0"!=s.wait_minute&&""!=s.wait_minute&&(h+=60*parseInt(s.wait_minute)*1e3),m=h/24/60/60/1e3;var y=(I=new Date((new Date).getTime()+h)).getHours()+":"+I.getMinutes(),P=a[Object.keys(a)[I.getDay()]],f=y.split(":"),k=P.to.split(":");parseInt(q(f[0])+q(f[1]))>parseInt(q(k[0])+q(k[1]))&&(I=new Date(I.getTime()+864e5));var v=new Date(I.getFullYear(),I.getMonth(),I.getDate());if(0!=m){m=parseInt(m);var C=new Date(g.getTime()),A=0;A=m%7==0?m/7:m/7+1;for(var b=0;b<=A;b++)(C=new Date(g.getTime()+7*b*24*3600*1e3)).getTime()<=v.getTime()&&this.set("disable",[new Date(C.getFullYear(),C.getMonth(),C.getDate())])}}}if(t.hasOwnProperty("blackout_dates")){var D=t.blackout_dates;for(var w in D)if(D.hasOwnProperty(w)){var x=D[w].split("-");this.set("disable",[new Date(parseInt(x[0]),parseInt(x[1])-1,parseInt(x[2]))])}}},onSet:function(e){if("select"in e){var t=B(".list-focus").find(".location_id").val(),n=SCASPLocationsData[F[t]];if(!n.enable_time_picker)return setTimeout(function(){A.off("focus").val(v.get()).focus().on("focus",v.open),processPickupData(B)},0),!1;var a=n.opening_hours,i=v.get("highlight"),r=a[Object.keys(a)[i.day]],o=r.from.split(":"),p=r.to.split(":"),s=new Date(v.get("highlight").obj),c=0;if(r.hasOwnProperty("wait_day")&&"0"!=r.wait_day&&""!=r.wait_day&&(c+=24*parseInt(r.wait_day)*60*60*1e3),r.hasOwnProperty("wait_hour")&&"0"!=r.wait_hour&&""!=r.wait_hour&&(c+=60*parseInt(r.wait_hour)*60*1e3),r.hasOwnProperty("wait_minute")&&"0"!=r.wait_minute&&""!=r.wait_minute&&(c+=60*parseInt(r.wait_minute)*1e3),0!==c){if((I=new Date((new Date).getTime()+c)).getFullYear()==s.getFullYear()&&I.getMonth()==s.getMonth()&&I.getDate()==s.getDate()){var u=parseInt(q(I.getHours())+""+q(I.getMinutes())),l=r.from.split(":"),S=r.to.split(":");u>parseInt(q(l[0])+q(l[1]))&&u<parseInt(q(S[0])+q(S[1]))&&(o=j(parseInt(I.getHours()),parseInt(I.getMinutes()),parseInt(n.time_picker_slot)))}}else{var d=(_=new Date).getHours(),g=_.getMinutes();_.getFullYear()==s.getFullYear()&&_.getMonth()==s.getMonth()&&_.getDate()==s.getDate()&&parseInt(o[0]+o[1])<parseInt(d+""+g)&&(o=j(parseInt(d),parseInt(g),parseInt(n.time_picker_slot)))}var _=new Date,m=a[Object.keys(a)[_.getDay()]];if(r.hasOwnProperty("max_day")&&0!=n.enable_max_datetime_picker){var h=0;if(m.hasOwnProperty("max_day")&&"0"!=m.max_day&&""!=m.max_day&&(h+=24*parseInt(m.max_day)*60*60*1e3),m.hasOwnProperty("max_hour")&&"0"!=m.max_hour&&""!=m.max_hour&&(h+=60*parseInt(m.max_hour)*60*1e3),m.hasOwnProperty("max_minute")&&"0"!=m.max_minute&&""!=m.max_minute&&(h+=60*parseInt(m.max_minute)*1e3),0!==h){var y=new Date((new Date).getTime()+h);if(y.getFullYear()==s.getFullYear()&&y.getMonth()==s.getMonth()&&y.getDate()==s.getDate()){var P=parseInt(q(y.getHours())+""+q(y.getMinutes())),f=r.from.split(":"),k=r.to.split(":");P>parseInt(q(f[0])+q(f[1]))&&P<parseInt(q(k[0])+q(k[1]))&&(p=j(parseInt(y.getHours()),parseInt(y.getMinutes()),parseInt(n.time_picker_slot)))}}}setTimeout(function(){if(C.set("disable",!1),r.hasOwnProperty("break_from")&&r.hasOwnProperty("break_to")&&"0"!=r.break_from&&"0"!=r.break_to){var e=r.break_from.split(":"),t=r.break_to.split(":");C.set("disable",[{from:[parseInt(e[0]),parseInt(e[1])],to:[parseInt(t[0]),parseInt(t[1])]}])}if(r.hasOwnProperty("break_slot"))for(var a in r.break_slot)if(r.break_slot.hasOwnProperty(a)){var i=r.break_slot[a].break_from.split(":"),s=r.break_slot[a].break_to.split(":");C.set("disable",[{from:[parseInt(i[0]),parseInt(i[1])],to:[parseInt(s[0]),parseInt(s[1])]}])}C.set("interval",n.time_picker_slot),C.set("min",x(o)),C.set("max",x(p)),C.open()},0)}}}).pickadate("picker"),e="h:i A";0==SCASPSetting.sg_time_format&&(e="HH:i");var C=B("#scasp-time").pickatime({clear:"",format:e,onSet:function(e){"select"in e&&setTimeout(function(){A.off("focus").val(v.get()+" "+C.get()).focus().on("focus",v.open),processPickupData(B)},0)}}).pickatime("picker");B(document).on("click",".scasp-list-container",function(){B("#sca-storepickup-container .picker").removeClass("picker--focused picker--opened"),B(".scasp-store-required").hide();var e=B(this).find(".location_id").val(),t=SCASPLocationsData[F[e]];if(!t.enable_date_picker)return B("#date-pickup").hide(),B(".scasp-datetime-required").hide(),processPickupData(B,e),!1;B("#date-pickup").show();var a=t.opening_hours,i=[];for(var s in a){if(a.hasOwnProperty(s))"0"==a[s].status&&i.push(parseInt(s))}v.set("enable",!0),v.set("disable",i)});var A=B("#date-pickup").on("focus",v.open).on("click",function(e){e.stopPropagation(),v.open()})}if(SCASPSetting.sg_enable_delivery&&!s){B(".sca-storepickup-delivery-tab").on("click",function(){B("#sca-storepickup-desc p, .scasp-error-msg").hide(),B("#sca-storepickup-methods li").removeClass("active"),B(".bh-sl-container").show(),B(".sca-storepickup-delivery-tab").addClass("active"),B("#bh-sl-address, #date-delivery").val(""),y(B),void 0!==jQuerySCASP.fn.storePickup&&void 0!==SCASPSetting.storePickup?(SCASPSetting.storePickup.reset(),SCASPSetting.storePickup.mapReload()):m(B),B(SCASPSetting.sg_cart_form_selector).prop("action",h(n))});var Q=null,b={},D=!1;SCASPDeliveryDatePicker=B("#scasp-delivery-date").pickadate({monthsFull:c,monthsShort:u,weekdaysFull:l,weekdaysShort:S,format:"dddd, dd mmm, yyyy",formatSubmit:SCASPSetting.sg_datetime_format,hiddenPrefix:"scasp-delivery-date",today:"",clear:"",close:"",min:!0,onOpen:function(){Q=null;var e=B(".location_id").first().val(),t=SCASPLocationsData[F[e]],a=t.delivery_hours,i=new Date,s=a[Object.keys(a)[i.getDay()]];if(s.hasOwnProperty("to")){var n=s.to.split(":");parseInt(q(i.getHours())+""+q(i.getMinutes()))>parseInt(q(n[0])+""+q(n[1]))&&this.set("disable",[new Date(i.getFullYear(),i.getMonth(),i.getDate())])}var r=t.opening_hours;i=new Date;var o=r[Object.keys(r)[i.getDay()]].to.split(":");if(parseInt(q(i.getHours())+""+q(i.getMinutes()))>parseInt(q(o[0])+""+q(o[1]))&&this.set("disable",[new Date(i.getFullYear(),i.getMonth(),i.getDate())]),s.hasOwnProperty("max_day")&&0!=t.delivery_enable_max_datetime_picker){var p=0;"0"!=s.max_day&&""!=s.max_day&&(p+=24*parseInt(s.max_day)*60*60*1e3),s.hasOwnProperty("max_hour")&&"0"!=s.max_hour&&""!=s.max_hour&&(p+=60*parseInt(s.max_hour)*60*1e3),s.hasOwnProperty("max_minute")&&"0"!=s.max_minute&&""!=s.max_minute&&(p+=60*parseInt(s.max_minute)*1e3);var c=new Date((new Date).getTime()+p),u=c.getHours()+":"+c.getMinutes(),l=a[Object.keys(a)[c.getDay()]],S=u.split(":"),d=0;if(l.hasOwnProperty("slot"))for(var g=0;g<Object.keys(l.slot).length;g++){var _=l.slot[g].to.split(":");parseInt(q(_[0])+q(_[1]))>d&&(d=parseInt(q(_[0])+q(_[1])))}parseInt(q(S[0])+q(S[1]))>d&&(Q=new Date(c.getTime()+864e5));var m=new Date(c.getFullYear(),c.getMonth(),c.getDate());this.set("max",m)}for(var h=1;h<8;h++)if(a[h].hasOwnProperty("wait_day")){s=a[h];var y=new Date,P=h-(i.getDay()+1);y.setDate(i.getDate()+P);var f=0,k=0;"0"!=s.wait_day&&""!=s.wait_day&&(k+=24*parseInt(s.wait_day)*60*60*1e3),s.hasOwnProperty("wait_hour")&&"0"!=s.wait_hour&&""!=s.wait_hour&&(k+=60*parseInt(s.wait_hour)*60*1e3),s.hasOwnProperty("wait_minute")&&"0"!=s.wait_minute&&""!=s.wait_minute&&(k+=60*parseInt(s.wait_minute)*1e3),f=k/24/60/60/1e3;var v=(Q=new Date((new Date).getTime()+k)).getHours()+":"+Q.getMinutes(),C=a[Object.keys(a)[Q.getDay()]],A=v.split(":"),b=0;if(C.hasOwnProperty("slot"))for(var D=0;D<Object.keys(C.slot).length;D++){var w=C.slot[D].to.split(":");parseInt(q(w[0])+q(w[1]))>b&&(b=parseInt(q(w[0])+q(w[1])))}parseInt(q(A[0])+q(A[1]))>b&&0<b&&(Q=new Date(Q.getTime()+864e5));var x=new Date(Q.getFullYear(),Q.getMonth(),Q.getDate());if("0"!=f&&""!=f){f=parseInt(f);var I=new Date(y.getTime()),j=0;j=f%7==0?f/7:f/7+1;for(var O=0;O<=j;O++)(I=new Date(y.getTime()+7*O*24*3600*1e3)).getTime()<x.getTime()&&this.set("disable",[new Date(I.getFullYear(),I.getMonth(),I.getDate())])}}if(t.hasOwnProperty("blackout_dates")){var L=t.blackout_dates;for(var T in L)if(L.hasOwnProperty(T)){var M=L[T].split("-");this.set("disable",[new Date(parseInt(M[0]),parseInt(M[1])-1,parseInt(M[2]))])}}},onSet:function(e){if("select"in e){var t=B(".location_id").first().val(),a=SCASPLocationsData[F[t]];if(!a.delivery_enable_time_picker)return setTimeout(function(){w.off("focus").val(SCASPDeliveryDatePicker.get()).focus().on("focus",SCASPDeliveryDatePicker.open),processPickupData(B)},0),!1;D=!0;var i=[],s=a.delivery_hours,n=SCASPDeliveryDatePicker.get("highlight");b=s[Object.keys(s)[n.day]];var r="24:00",o=new Date(SCASPDeliveryDatePicker.get("highlight").obj);if(!b.hasOwnProperty("slot"))return setTimeout(function(){w.off("focus").val(SCASPDeliveryDatePicker.get()).focus().on("focus",SCASPDeliveryDatePicker.open),processPickupData(B),B('input[name="attributes[Delivery-Time]"]').val("")},0),!1;var p=new Date,c=s[Object.keys(s)[p.getDay()]];if(c.hasOwnProperty("max_day")){var u=0;if(0!=a.enable_max_datetime_picker){var l=0;if("0"!=c.max_day&&""!=c.max_day&&(l+=24*parseInt(c.max_day)*60*60*1e3),c.hasOwnProperty("max_hour")&&"0"!=c.max_hour&&""!=c.max_hour&&(l+=60*parseInt(c.max_hour)*60*1e3),c.hasOwnProperty("max_minute")&&"0"!=c.max_minute&&""!=c.max_minute&&(l+=60*parseInt(c.max_minute)*1e3),0!==l){var S=new Date((new Date).getTime()+l);if(S.getFullYear()==o.getFullYear()&&S.getMonth()==o.getMonth()&&S.getDate()==o.getDate())var d=parseInt(q(S.getHours())+""+q(S.getMinutes()))}}}for(var g=0;g<Object.keys(b.slot).length;g++){var _=r.split(":"),m=b.slot[g].from.split(":");parseInt(q(m[0])+""+q(m[1]))<parseInt(q(_[0])+""+q(_[1]))&&(0!==l?void 0!==d&&parseInt(q(m[0])+""+q(m[1]))<parseInt(q(S.getHours())+""+q(S.getMinutes()))&&(u=b.slot[g].from):r=b.slot[g].from),i.push(b.slot[g].from.split(":"))}var h=r.split(":"),y=0;if(b.hasOwnProperty("wait_day")&&"0"!=b.wait_day&&""!=b.wait_day&&(y+=24*parseInt(b.wait_day)*60*60*1e3),b.hasOwnProperty("wait_hour")&&"0"!=b.wait_hour&&""!=b.wait_hour&&(y+=60*parseInt(b.wait_hour)*60*1e3),b.hasOwnProperty("wait_minute")&&"0"!=b.wait_minute&&""!=b.wait_minute&&(y+=60*parseInt(b.wait_minute)*1e3),0!==y){if(Q.getFullYear()==o.getFullYear()&&Q.getMonth()==o.getMonth()&&Q.getDate()==o.getDate()){var P=parseInt(q(Q.getHours())+""+q(Q.getMinutes()));h<P&&(h=j(parseInt(Q.getHours()),parseInt(Q.getMinutes()),15))}}else{var f=(p=new Date).getHours(),k=p.getMinutes();if(p.getFullYear()==o.getFullYear()&&p.getMonth()==o.getMonth()&&p.getDate()==o.getDate()){h=j(parseInt(f),parseInt(k),15);for(var v=0;v<Object.keys(b.slot).length;v++){var C=b.slot[v].from.split(":");parseInt(q(C[0])+""+q(C[1]))<parseInt(q(h[0])+""+q(h[1]))&&(h=b.slot[v].from)}}}setTimeout(function(){SCASPDeliveryTimePicker.set("disable",!0),SCASPDeliveryTimePicker.set("disable",i),SCASPDeliveryTimePicker.set("min",h),0!==u?SCASPDeliveryTimePicker.set("max",u.split(":")):SCASPDeliveryTimePicker.set("max",!1),SCASPDeliveryTimePicker.open()},0)}}}).pickadate("picker"),SCASPDeliveryTimePicker=B("#scasp-delivery-time").pickatime({clear:"",interval:15,formatLabel:function(e){if(D&&b.hasOwnProperty("slot"))for(var t=0;t<Object.keys(b.slot).length;t++){var a=b.slot[t].from.split(":");if(e.hour==parseInt(a[0])&&e.mins==parseInt(a[1])){var i=b.slot[t].to.split(":");return"h:i A - "+g(parseInt(i[0]),parseInt(i[1]))}}return""},onSet:function(e){"select"in e&&setTimeout(function(){D=!1;var e=B("#sca-storepickup-desc .picker__list-item--selected").html();w.off("focus").val(SCASPDeliveryDatePicker.get()+" "+SCASPSetting.st_delivery_between_text+" "+e.replace("-",SCASPSetting.st_delivery_and_text)).focus().on("focus",SCASPDeliveryDatePicker.open),processPickupData(B)},0)}}).pickatime("picker");var w=B("#date-delivery").on("focus",SCASPDeliveryDatePicker.open).on("click",function(e){e.stopPropagation(),SCASPDeliveryDatePicker.open()})}var t=[];if(!SCASPSetting.sg_enable_shipping||i?(B(".sca-storepickup-shipping-tab").hide(),B(".sca-storepickup-shipping-desc").hide()):t.push("shipping"),!SCASPSetting.sg_enable_pickup||a||"delivery"==SCASPSetting.version?B(".sca-storepickup-pickup-tab").hide():t.push("pickup"),!SCASPSetting.sg_enable_delivery||s||"pickup"==SCASPSetting.version?B(".sca-storepickup-delivery-tab").hide():t.push("delivery"),1==t.length)switch(B("ul#sca-storepickup-methods").hide(),t[0]){case"shipping":B(".sca-storepickup-shipping-desc").hide();break;case"pickup":B("#sca-storepickup-container").prepend("<h3>"+SCASPSetting.st_store_pickup_tab+"</h3>"),B(".sca-storepickup-pickup-tab").trigger("click");break;case"delivery":B("#sca-storepickup-container").prepend("<h3>"+SCASPSetting.st_local_delivery_tab+"</h3>"),B(".sca-storepickup-delivery-tab").trigger("click");break;default:B(".sca-storepickup-shipping-desc").hide()}else 2==t.length&&-1==B.inArray("shipping",t)&&("undefined"!=typeof SCASPActiveStorePickupTab&&1==SCASPActiveStorePickupTab?B(".sca-storepickup-pickup-tab").trigger("click"):B(".sca-storepickup-delivery-tab").trigger("click"));B('button[name="checkout"], input[name="checkout"]').on("click",function(e){var t=0,a=B(".scasp-datetime-required");if(_(B)){var i=B(".scasp-address-required");""==B("#bh-sl-address").val()&&"none"!=B("#bh-sl-address").css("display")?(i.show(),t++):i.hide(),""==B("#date-delivery").val()&&"none"!=B("#date-delivery").css("display")?(a.show(),t++):a.hide(),"none"!=B(".scasp-delivery-validate").css("display")&&t++,"none"==B(".scasp-delivery-success").css("display")&&""!=B("#bh-sl-address").val()&&"none"!=B("#bh-sl-address").css("display")&&(B(".scasp-delivery-validate").show(),t++)}else{var s=B(".scasp-store-required");B(".sca-storepickup-pickup-tab").hasClass("active")&&(B(".location_id").is(":checked")?s.hide():(s.show(),t++)),B(".sca-storepickup-pickup-tab").hasClass("active")&&""==B("#date-pickup").val()&&"none"!=B("#date-pickup").css("display")?(a.show(),t++):a.hide()}if(0<t)return"undefined"!=typeof BOLD&&void 0!==BOLD.recurring_orders&&(BOLD.recurring_orders.app.cartWidget.checkoutEnabled=!1),e.stopImmediatePropagation(),!1;if("undefined"!=typeof BOLD&&void 0!==BOLD.recurring_orders)BOLD.recurring_orders.app.cartWidget.checkoutEnabled=!0;else if(B(".sca-storepickup-pickup-tab").hasClass("active")&&void 0!==SCASPSetting.sp_disable_shipping&&1==SCASPSetting.sp_disable_shipping){var n=Shopify.shop,r=SCASPSetting.sp_disable_shipping,o=SCASPSetting.sp_enable_deposit,p=SCASPSetting.sp_deposit_amount,c=SCASPSetting.st_total_due;if(1==SCASPSetting.sp_enable_deposit)var u=SCASPSetting.st_shipping_label;else u=SCASPSetting.st_shipping_title;var l=new Object;return B('input[name*="attributes"]').each(function(){""!=B(this).val()&&(l[B(this).attr("name")]=B(this).val())}),B.getJSON("/cart.js",function(e){B.ajax({url:"https://secomapp.com/storepickup/draftorder",method:"POST",dataType:"JSON",data:{store:n,cart:e,note_attributes:l,disable_shipping:r,enable_deposit:o,deposit_amount:p,deposit_label:u,total_due:c},success:function(e){"0"!==e&&(window.location.href=e+"?"+SCASPSetting.getParametersApi())}})}),!1}});try{0<B(".scasp-initbm").length&&0==B(".scasp-brankmark").length&&!a&&SCASPSetting.sg_enable_pickup&&(B('<div id="scasp-brankmark" class="scasp-brankmark" style="position: static !important;bottom: -50px;left:45%;background: #979595!important;display:block !important;font-family:sans-serif;font-size:13px;text-align:center;box-sizing:border-box;"><a onclick="window.open(\'http://secomapp.com/?utm_channel=referral&amp;utm_medium=storepickup&amp;utm_campaign=spreferral\', \'_blank\')" href="http://secomapp.com/?utm_channel=referral&amp;utm_medium=storepickup&amp;utm_campaign=spreferral" style="color:white!important;">Powered by <span style="color:#006eff!important;text-decoration: underline;">Secomapp</span></a> </div>').insertBefore("#sca-storepickup-desc"),B(".scasp-brankmark a").click(function(e){e.preventDefault()}))}catch(e){}if("function"==typeof scaStorePickupCallback)try{scaStorePickupCallback()}catch(e){p.log("Callback Error!"),p.log(e)}}function C(e){void 0!==jQuerySCASP.fn.storePickup||void 0===google.maps||jQuerySCASP.scaslpluginLoaded||(jQuerySCASP.scaslpluginLoaded=!0,d("//cdn.secomapp.com/storepickup/assets/cdn/js/jquery.storepickup.js",function(){p.log("Loaded Pickup plugin."),e(document).ready(function(){v(jQuerySCASP)})}))}}(),SCASPSetting.scasp_ajax_disable||(SCASPSetting.appendPickupTo=function(e){$(e+" .scasp_pickup_position").length<1&&$(e).append('<span class="scasp_pickup_position"></span>'),SCASPSetting.sg_pickup_position=".scasp_pickup_position"},SCASPSetting.getAjaxFormId=function(){var e='form[action*="cart"][action!="/cart/add"][method="post"]';if(-1!=Shopify.theme.name.toLowerCase().indexOf("turbo")&&(SCASPSetting.sg_pickup_position=".cart_container .cart_content .action_button",e='form[action*="checkout"][method="post"]'),-1!=Shopify.theme.name.toLowerCase().indexOf("boundless")&&SCASPSetting.appendPickupTo(".ajaxcart__inner"),-1!=Shopify.theme.name.toLowerCase().indexOf("narrative")&&$(".cart-drawer__footer").css("overflow","auto"),-1!=Shopify.theme.name.toLowerCase().indexOf("brooklyn")&&SCASPSetting.appendPickupTo(".ajaxcart__inner"),-1!=Shopify.theme.name.toLowerCase().indexOf("parallax")&&(e="#cart",$("#cart").attr("action","/cart"),SCASPSetting.sg_pickup_position='#cart input[type="submit"]'),-1!=Shopify.theme.name.toLowerCase().indexOf("turbo")&&(e=".header .top_bar .cart_container .js-cart_content__form",$(e).attr("action","/cart"),SCASPSetting.sg_pickup_position=e+' input[type="submit"]'),"undefined"!=typeof scasp_ajax_callback){var t=scasp_ajax_callback();t&&(e=t)}return e},SCASPSetting.ajaxcounter=0,SCASPSetting.startAjaxPickup=function(i){setTimeout(function(){if(-1==window.location.href.indexOf("/cart")){var e=SCASPSetting.getAjaxFormId();i(e).length?(SCASPSetting.ajaxcounter=0,i(".scasp-loading-option").length&&i(".scasp-loading-option").remove(),i(e).append('<div class="scasp-loading-option" style="color:#1b0eba;text-align:center;margin-bottom:16px;"><span class="scasp-ajax-loading"></span></div>'),i.ajax({type:"get",url:"/cart",success:function(e){var t=SCASPSetting.getAjaxFormId();if(0!=i('script[src*="storepickup_scripttag"]').length){i('script[src*="storepickup_scripttag"]').eq(0).attr("src");var a=i("<div/>").html(e);0<i(t).length&&0<i(".scasp-wrapper",a).length&&(i(t+" .scasp-wrapper").remove(),i(t+" #sca-storepickup-container").remove(),i(t).append(i(".scasp-wrapper",a)),"undefined"!=typeof jQuerySCASP&&void 0!==jQuerySCASP.fn.storePickup?(void 0!==SCASPSetting.storePickup&&SCASPSetting.storePickup.reset(),SCASPSetting.handlerScriptApi(jQuerySCASP)):SCASPSetting.initStorePickup(jQuerySCASP)),i(".scasp-loading-option").length&&i(".scasp-loading-option").remove()}},error:function(){i(".scasp-loading-option").length&&i(".sca-loading-option").remove()}})):SCASPSetting.ajaxcounter<5&&(console.log("try: "+SCASPSetting.ajaxcounter),SCASPSetting.ajaxcounter++,SCASPSetting.startAjaxPickup(i))}},1e3)},SCASPSetting.doAjaxPickup=function(e,t,a){-1!=a.url.indexOf("/cart.js")&&(SCASPSetting.ajaxcounter=0,SCASPSetting.startAjaxPickup(jQuerySCASP))},SCASPSetting.jqueryIntervalCounter=10,"undefined"!==SCASPSetting.jqueryInterval&&clearInterval(SCASPSetting.jqueryInterval),SCASPSetting.jqueryInterval=setInterval(function(){if(SCASPSetting.jqueryIntervalCounter=SCASPSetting.jqueryIntervalCounter-1,console.log(SCASPSetting.jqueryIntervalCounter),0<SCASPSetting.jqueryIntervalCounter&&"undefined"!=typeof jQuerySCASP){try{if(!scasp_is_installed())return clearInterval(SCASPSetting.jqueryInterval),!1;jQuerySCASP(document).ajaxComplete(SCASPSetting.doAjaxPickup),-1!=Shopify.theme.name.toLowerCase().indexOf("narrative")&&SCASPSetting.doAjaxPickup(null,null,{url:"//secomapp.com/cart.js"}),-1!=Shopify.theme.name.toLowerCase().indexOf("parallax")&&SCASPSetting.doAjaxPickup(null,null,{url:"//secomapp.com/cart.js"}),-1!=Shopify.theme.name.toLowerCase().indexOf("turbo")&&SCASPSetting.doAjaxPickup(null,null,{url:"//secomapp.com/cart.js"}),jQuerySCASP.getScript("//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js")}catch(e){console.log(e)}clearInterval(SCASPSetting.jqueryInterval)}else SCASPSetting.jqueryIntervalCounter<1&&clearInterval(SCASPSetting.jqueryInterval)},500));
 } 